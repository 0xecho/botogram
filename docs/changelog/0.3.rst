.. Copyright (c) 2016 Pietro Albini <pietro@pietroalbini.io>
   Released under the MIT license

===========================
Changelog of botogram 0.3.x
===========================

Here you can find all the changes in the botogram 0.3.x releases.

.. _changelog-0.3:

botogram 0.3
============

*Alpha release, not yet released*

Release description not yet written.

New features
------------

* Added the ability to react :ref:`when a chat is not available
  <unavailable-chats>`.

   * New decorator :py:meth:`botogram.Bot.chat_unavailable`
   * New method :py:meth:`botogram.Component.add_chat_unavailable_hook`

* Added support for editing messages sent by the bot

   * New method :py:meth:`botogram.Message.edit`
   * New method :py:meth:`botogram.Message.edit_caption`
   * New method :py:meth:`botogram.Bot.edit_message`
   * New method :py:meth:`botogram.Bot.edit_caption`

* Added support for working with parsed text in a message:

   * New attribute :py:attr:`botogram.Message.parsed_text`
   * New class :py:class:`botogram.ParsedText`
   * New class :py:class:`botogram.ParsedTextEntity`

* Added a new way to hide commands from the ``/help`` command:

   * New argument ``hidden`` on :py:meth:`botogram.Bot.command`
   * New argument ``hidden`` on :py:meth:`botogram.Component.add_command`

* Add support for processing edited messages:

   * New decorator :py:meth:`botogram.Bot.message_edited`
   * New method :py:meth:`botogram.Component.add_message_edited_hook`

* Added support for moderating groups:

   * New method :py:meth:`botogram.Chat.ban`
   * New method :py:meth:`botogram.Chat.unban`

* Added support for sending contacts:

   * New method :py:meth:`botogram.User.send_contact`
   * New method :py:meth:`botogram.Chat.send_contact`
   * New method :py:meth:`botogram.Message.reply_with_contact`

* Added new attribute :py:attr:`botogram.Message.pinned_message`
* Added new attribute :py:attr:`botogram.Sticker.emoji`
* Added new attribute :py:attr:`botogram.Chat.admins`
* Added new attribute :py:attr:`botogram.Chat.creator`
* Added new attribute :py:attr:`botogram.Chat.members_count`
* Added new method :py:meth:`botogram.Chat.status_of`
* Added new method :py:meth:`botogram.Chat.leave`
* Added new method :py:meth:`botogram.Bot.chat`
* Every method which sends something to a chat now returns the sent
  :py:class:`~botogram.Message`
* Multiple instances of the same bot are now properly handled (as errors)
* It's now possible to correctly compare API objects

Changes
-------

* Renamed ``Message.new_chat_participant`` to
  :py:meth:`botogram.Message.new_chat_member`
* Renamed ``Message.left_chat_participant`` to
  :py:meth:`botogram.Message.left_chat_member`
* :py:attr:`botogram.Message.forward_from` can now be either an instance of
  :py:class:`~botogram.User` or :py:class:`~botogram.Chat`

Performance improvements
------------------------

* Updates queueing performance improved
* Backlog processing is now instantaneous

Bug fixes
---------

* Fix docstrings not escaped in the ``/help`` command if no syntax was used
  (`issue 67`_)

   * Now docstrings are escaped if you don't use any HTML syntax in them, but
     if you use HTML you need to manually escape that specific docstring.

Deprecated features
-------------------

Deprecated features will be removed in botogram 1.0!

* ``Message.new_chat_participant`` is now deprecated
* ``Message.left_chat_participant`` is now deprecated
* ``Bot.hide_commands`` is now deprecated
* ``Bot.send`` is now deprecated
* ``Bot.send_photo`` is now deprecated
* ``Bot.send_audio`` is now deprecated
* ``Bot.send_voice`` is now deprecated
* ``Bot.send_video`` is now deprecated
* ``Bot.send_file`` is now deprecated
* ``Bot.send_location`` is now deprecated
* ``Bot.send_sticker`` is now deprecated

.. _issue 67: https://github.com/pietroalbini/botogram/issues/67
